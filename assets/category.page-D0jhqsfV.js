import{v as p,p as s,w as l,z as f}from"./chunk-ZYFC6VSF-RoJ6bjcO.js";import{u as v}from"./index.esm-Ct74KYEx.js";import{a as h,u as x}from"./react-redux-ZL9KwmXb.js";import{a as j,r as g,u as y,b}from"./categories.slice-Ci-6jPVA.js";import{k as w}from"./words-phrases.slice-C_Jq6HP-.js";import"./redux-toolkit.modern-D-2niQ31.js";function N(i){const r=h(),t=p(),e=x(o=>j(o,i.id)),{register:n,handleSubmit:d,formState:{errors:c}}=v({defaultValues:{id:(e==null?void 0:e.id)||"",description:e?e.description:""}}),a=o=>{e!=null&&e.id?r(y(o)):(o.id=crypto.randomUUID(),r(b(o))),t(`/category-view/${o.id}`)},m=()=>{e!=null&&e.id&&confirm("Are you sure you want to remove this category?")&&(r(w(e.id)),r(g(e.id)),t("/categories"))},u=()=>{e!=null&&e.id?t(`/category-view/${e.id}`):t("/categories")};return s.jsxs("form",{className:"category-form edit-form",onSubmit:d(a),children:[s.jsx("input",{type:"hidden",...n("id")}),s.jsxs("div",{className:"edit-form__row",children:[s.jsx("label",{htmlFor:"value",children:"Description"}),s.jsxs("div",{children:[s.jsx("input",{id:"value",...n("description",{required:"A description is required"})}),s.jsx("div",{className:"form-error",children:c.description&&s.jsx("p",{children:c.description.message})})]})]}),s.jsxs("div",{className:"edit-form__buttons",children:[s.jsx("input",{type:"submit",value:"Save"}),s.jsx("input",{type:"button",value:"Cancel",onClick:u}),(e==null?void 0:e.id)&&s.jsx("input",{type:"button",value:"Remove",onClick:m})]})]})}function P({}){return[{title:"Category"},{name:"description",content:""}]}const R=l(function(){const{id:r}=f();return s.jsx("section",{className:"centered-container",children:s.jsx(N,{id:r})})});export{R as default,P as meta};
