import{p as s,a as i,R as N,w as T}from"./chunk-ZYFC6VSF-RoJ6bjcO.js";import{a as b,u as k}from"./react-redux-ZL9KwmXb.js";import{k as g,m as j,n as W,o as C,p as R}from"./words-phrases.slice--cUm-8VX.js";import"./redux-toolkit.modern-D-2niQ31.js";function I({size:t="small"}){return s.jsx("div",{className:`spinner spinner--${t}`,children:s.jsx("div",{className:"spinner-main",role:"status","aria-label":"Loading"})})}function S(){var m,h,x,f,L,p;const t=i.useRef(null),r=b(),[a,c]=i.useState(),[d,l]=i.useState(!1),e=k(n=>g(n));i.useEffect(()=>{r(j()),u()},[r]);const v=(n=>n.filter(o=>!!o).sort(()=>Math.random()-.5))([e==null?void 0:e.wordToLearn,e==null?void 0:e.choice1,e==null?void 0:e.choice2]),w=n=>{var o;c(n),n.id===((o=e==null?void 0:e.wordToLearn)==null?void 0:o.id)?r(C()):r(R())},_=()=>{d||e!=null&&e.wordToLearn&&(l(!0),setTimeout(()=>{r(W(e.wordToLearn)),r(j()),c(void 0),u(),l(!1)},250))},u=()=>{setTimeout(()=>{var n;(n=t.current)==null||n.focus()},500)};return e!=null&&e.wordToLearn?a?s.jsxs("div",{className:"learn",children:[s.jsxs("div",{className:"learn__word",children:[s.jsx("div",{tabIndex:-1,children:(m=e==null?void 0:e.wordToLearn)==null?void 0:m.value}),s.jsx("div",{className:"learn__sounds-like",children:(h=e==null?void 0:e.wordToLearn)==null?void 0:h.soundsLike})]}),a.id===((x=e==null?void 0:e.wordToLearn)==null?void 0:x.id)?s.jsx("div",{className:"learn__feedback--correct",children:"Correct!"}):s.jsxs(N.Fragment,{children:[s.jsx("div",{className:"learn__feedback--incorrect",children:"Incorrect"}),s.jsxs("div",{children:["Meaning: ",(f=e==null?void 0:e.wordToLearn)==null?void 0:f.meaning]})]}),s.jsx("button",{className:"learn__next-button",onClick:_,type:"button",children:d?s.jsx(I,{}):"Next"})]}):s.jsxs("div",{className:"learn",children:[s.jsxs("div",{className:"learn__word",children:[s.jsx("div",{ref:t,tabIndex:-1,children:(L=e==null?void 0:e.wordToLearn)==null?void 0:L.value}),s.jsx("div",{className:"learn__sounds-like",children:(p=e==null?void 0:e.wordToLearn)==null?void 0:p.soundsLike})]}),s.jsx("div",{className:"learn__choices",children:v.map((n,o)=>s.jsx("button",{onClick:()=>w(n),type:"button",children:n.meaning},o))})]}):null}function D({}){return[{title:"Words and Phrases"},{name:"description",content:""}]}const F=T(function(){return s.jsx("section",{className:"centered-container",children:s.jsx(S,{})})});export{F as default,D as meta};
