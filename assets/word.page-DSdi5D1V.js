import{v as j,p as e,w as f,z as g}from"./chunk-ZYFC6VSF-RoJ6bjcO.js";import{u as b}from"./index.esm-Ct74KYEx.js";import{a as N,u as n}from"./react-redux-ZL9KwmXb.js";import{c as _,d as k,e as w,r as S,u as y,f as C}from"./words-phrases.slice-C_Jq6HP-.js";import{s as F}from"./categories.slice-Ci-6jPVA.js";import{r as L}from"./word-lists.slice-CtHVvgYj.js";import"./redux-toolkit.modern-D-2niQ31.js";function q(m){const i=N(),d=j(),s=n(r=>_(r,m.id)),l=n(r=>k(r)),u=n(r=>F(r)),o=n(r=>w(r)),{register:t,handleSubmit:h,formState:{errors:a}}=b({defaultValues:{id:(s==null?void 0:s.id)||"",value:s?s.value:l||"",soundsLike:(s==null?void 0:s.soundsLike)||"",meaning:(s==null?void 0:s.meaning)||"",categories:(s==null?void 0:s.categories)||[]}}),p=r=>{s!=null&&s.id?i(y(r)):i(C(r)),c()},x=()=>{s!=null&&s.id&&confirm("Are you sure you want to remove this word/phrase?")&&(i(L(s.id)),i(S(s.id)),c())},v=()=>{c()},c=()=>{o!=null&&o.route?o!=null&&o.routeId?d(`/${o.route}/${o.routeId}`):d(`/${o.route}`):d("/words")};return e.jsxs("form",{className:"edit-form",onSubmit:h(p),children:[e.jsx("input",{type:"hidden",...t("id")}),e.jsxs("div",{className:"edit-form__row",children:[e.jsx("label",{htmlFor:"value",children:"Word or phrase"}),e.jsxs("div",{children:[e.jsx("input",{id:"value",...t("value",{required:"A word or phrase is required"})}),e.jsx("div",{className:"form-error",children:a.value&&e.jsx("p",{children:a.value.message})})]})]}),e.jsxs("div",{className:"edit-form__row",children:[e.jsx("label",{htmlFor:"soundsLike",children:"Sounds Like"}),e.jsx("input",{id:"soundsLike",...t("soundsLike")})]}),e.jsxs("div",{className:"edit-form__row",children:[e.jsx("label",{htmlFor:"meaning",children:"Meaning"}),e.jsxs("div",{children:[e.jsx("input",{id:"meaning",...t("meaning",{required:"Meaning is required"})}),e.jsx("div",{className:"form-error",children:a.meaning&&e.jsx("p",{children:a.meaning.message})})]})]}),e.jsxs("div",{className:"edit-form__row",children:[e.jsx("label",{htmlFor:"categories",children:"Categories"}),e.jsxs("div",{children:[e.jsx("select",{id:"categories",...t("categories",{required:"At least one category is required"}),multiple:!0,children:u.map(r=>e.jsx("option",{value:r.id,children:r.description},r.id))}),e.jsx("div",{className:"form-error",children:a.categories&&e.jsx("p",{children:a.categories.message})})]})]}),e.jsxs("div",{className:"edit-form__buttons",children:[e.jsx("input",{type:"submit",value:"Save"}),e.jsx("input",{type:"button",value:"Cancel",onClick:v}),(s==null?void 0:s.id)&&e.jsx("input",{type:"button",value:"Remove",onClick:x})]})]})}function D({}){return[{title:"Word or Phrase"},{name:"description",content:""}]}const Q=f(function(){const{id:i}=g();return e.jsx("section",{className:"centered-container",children:e.jsx(q,{id:i})})});export{Q as default,D as meta};
