import{v as S,a as b,p as s}from"./chunk-ZYFC6VSF-RoJ6bjcO.js";import{a as w,u}from"./react-redux-ZL9KwmXb.js";import{e as _,v as N,x as m,i as g}from"./words-phrases.slice-CVx70IhG.js";import{W as y}from"./word-phrase-list-view-B-fmY1xa.js";function T(a){const c=w(),o=S(),t=b.useRef(null),n=u(e=>_(e)),i=u(e=>N(e)),r=!!a.addClick;let d=null;const p=r?"Search for word or phrase to add to list":"Search for word or phrase",x=e=>{d&&clearTimeout(d),d=setTimeout(()=>{c(m(e.target.value))},300)},f=()=>{o("/words/new")},j=e=>{a.addClick&&(a.addClick(e),h())},v=e=>{c(g({route:"/words"})),o(`/words/${e}`)},h=()=>{t.current&&(t.current.value=""),c(m(""))};function C(){return i.map((e,l)=>s.jsx("li",{onClick:()=>v(e.id),children:s.jsx(y,{wordOrPhrase:e})},l))}function k(){return n?i.map((e,l)=>s.jsxs("li",{children:[s.jsxs("div",{children:[s.jsx("span",{children:e.value})," - ",s.jsx("span",{className:"search__item-meaning",children:e.meaning})]}),s.jsx("input",{type:"button",value:"Add",onClick:()=>j(e.id)})]},l)):null}return s.jsxs("div",{className:`search ${r?"search--embedded":""}`,children:[s.jsxs("div",{className:"search__controls",children:[s.jsxs("div",{className:"search__field-wrapper",children:[s.jsx("input",{ref:t,className:"search__field",type:"text",placeholder:p,defaultValue:n,onChange:x}),n&&s.jsx("button",{className:"search__clear-btn",onClick:h,type:"button",children:"×"})]}),!r&&s.jsx("button",{onClick:f,type:"button",children:"Add"})]}),s.jsxs("ul",{className:`${r?"list--no-row-click":""}`,children:[!r&&C(),r&&k()]})]})}export{T as S};
