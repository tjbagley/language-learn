import{v as S,a as b,p as s}from"./chunk-ZYFC6VSF-Bd9_QtAq.js";import{a as _,u}from"./react-redux-D5JAeXUw.js";import{o as N,t as g,v as m,d as p}from"./words-phrases.slice-BXjJ2-U2.js";import{W as y}from"./word-phrase-list-view-D51H6jgh.js";function $(d){const c=_(),l=S(),a=b.useRef(null),n=u(e=>N(e)),i=u(e=>g(e)),r=!!d.addClick;let o=null;const f=r?"Search for word or phrase to add to list":"Search for word or phrase",x=e=>{o&&clearTimeout(o),o=setTimeout(()=>{c(m(e.target.value))},300)},j=()=>{c(p({route:"/words"})),l("/words/new")},v=e=>{d.addClick&&(d.addClick(e),h())},C=e=>{c(p({route:"/words"})),l(`/words/${e}`)},h=()=>{a!=null&&a.current&&(a.current.value=""),c(m(""))};function k(){return i.map((e,t)=>s.jsx("li",{onClick:()=>C(e.id),"data-testid":`search-item-${t}`,children:s.jsx(y,{wordOrPhrase:e})},t))}function w(){return n?i.map((e,t)=>s.jsxs("li",{"data-testid":`search-item-${t}`,children:[s.jsxs("div",{children:[s.jsx("span",{children:e.value})," - ",s.jsx("span",{className:"search__item-meaning",children:e.meaning})]}),s.jsx("input",{type:"button",value:"Add",onClick:()=>v(e.id)})]},t)):null}return s.jsxs("div",{className:`search ${r?"search--embedded":""}`,children:[s.jsxs("div",{className:"search__controls",children:[s.jsxs("div",{className:"search__field-wrapper",children:[s.jsx("input",{ref:a,className:"search__field",type:"text",placeholder:f,defaultValue:n,onChange:x}),n&&s.jsx("button",{className:"search__clear-btn",onClick:h,type:"button",children:"×"})]}),!r&&s.jsx("button",{onClick:j,type:"button",children:"Add"})]}),s.jsxs("ul",{className:`${r?"list--no-row-click":""}`,children:[!r&&k(),r&&w()]})]})}export{$ as S};
