import{w as N,z as g,v as C,p as s}from"./chunk-ZYFC6VSF-Bd9_QtAq.js";import{a as P,u as d}from"./react-redux-D5JAeXUw.js";import{a as S,u as A,b as I,c as k}from"./word-lists.slice-gWhQ8g7e.js";import{b as D}from"./words-phrases.slice-BXjJ2-U2.js";import{u as F,a as R}from"./index.esm-BR6Rkyyc.js";import{S as $}from"./search-Bq7irFe9.js";import"./redux-toolkit.modern-D-2niQ31.js";import"./word-phrase-list-view-D51H6jgh.js";function J({}){return[{title:"List"},{name:"description",content:""}]}const K=N(function(){const{id:c}=g(),i=P(),o=C(),e=d(t=>S(t,c)),m=d(t=>D(t)),{register:a,control:l,getValues:u,handleSubmit:p,formState:{errors:n}}=F({defaultValues:{id:(e==null?void 0:e.id)||"",description:e?e.description:"",items:e!=null&&e.items?e.items:[]}}),{fields:f,append:h,remove:v}=R({control:l,name:"items"}),j=t=>{e!=null&&e.id?i(A(t)):(t.id=crypto.randomUUID(),i(I(t))),o(`/list-view/${t.id}`)};function x(){e!=null&&e.id&&confirm("Are you sure you want to remove this list?")&&(i(k(e.id)),o("/lists"))}const b=()=>{e!=null&&e.id?o(`/list-view/${e.id}`):o("/lists")};function w(t){const r=m.find(_=>_.id===t);return r?r.value:""}function y(t){h({actor:"",wordOrPhraseId:t})}return s.jsx("section",{className:"centered-container",children:s.jsxs("form",{className:"word-list-form edit-form",onSubmit:p(j),children:[s.jsx("input",{type:"hidden",...a("id")}),s.jsxs("div",{className:"edit-form__row",children:[s.jsx("label",{htmlFor:"value",children:"Description"}),s.jsxs("div",{children:[s.jsx("input",{id:"value",...a("description",{required:"A description is required"})}),s.jsx("div",{className:"form-error",children:n.description&&s.jsx("p",{children:n.description.message})})]})]}),f.map((t,r)=>s.jsxs("div",{className:"word-list-form__item",children:[s.jsx("input",{className:"word-list-form__item-actor",placeholder:"Actor",...a(`items.${r}.actor`)}),s.jsx("div",{className:"word-list-form__item-word-or-phrase",children:w(u(`items.${r}.wordOrPhraseId`))}),s.jsx("input",{type:"button",value:"Remove",onClick:()=>v(r)})]},t.id)),s.jsx($,{addClick:y}),s.jsxs("div",{className:"edit-form__buttons",children:[s.jsx("input",{type:"submit",value:"Save"}),s.jsx("input",{type:"button",value:"Cancel",onClick:b}),(e==null?void 0:e.id)&&s.jsx("input",{type:"button",value:"Remove",onClick:x})]})]})})});export{K as default,J as meta};
