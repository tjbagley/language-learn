import{w as j,z as g,v as f,p as e}from"./chunk-ZYFC6VSF-Bd9_QtAq.js";import{a as b,u as n}from"./react-redux-D5JAeXUw.js";import{d as N,e as _,f as k,u as w,g as S,r as y}from"./words-phrases.slice-CnmOxz7F.js";import{s as C}from"./categories.slice-Ci-6jPVA.js";import{u as L}from"./index.esm-BR6Rkyyc.js";import{r as q}from"./word-lists.slice-gWhQ8g7e.js";import"./redux-toolkit.modern-D-2niQ31.js";function D({}){return[{title:"Word or Phrase"},{name:"description",content:""}]}const Q=j(function(){const{id:m}=g(),t=b(),d=f(),s=n(r=>N(r,m)),l=n(r=>_(r)),u=n(r=>C(r)),o=n(r=>k(r)),{register:i,handleSubmit:h,formState:{errors:a}}=L({defaultValues:{id:(s==null?void 0:s.id)||"",value:s?s.value:l||"",soundsLike:(s==null?void 0:s.soundsLike)||"",meaning:(s==null?void 0:s.meaning)||"",categories:(s==null?void 0:s.categories)||[]}}),p=r=>{s!=null&&s.id?t(w(r)):t(S(r)),c()},v=()=>{s!=null&&s.id&&confirm("Are you sure you want to remove this word/phrase?")&&(t(q(s.id)),t(y(s.id)),c())},x=()=>{c()},c=()=>{o!=null&&o.route?o!=null&&o.routeId?d(`/${o.route}/${o.routeId}`):d(`/${o.route}`):d("/words")};return e.jsx("section",{className:"centered-container",children:e.jsxs("form",{className:"edit-form",onSubmit:h(p),children:[e.jsx("input",{type:"hidden",...i("id")}),e.jsxs("div",{className:"edit-form__row",children:[e.jsx("label",{htmlFor:"value",children:"Word or phrase"}),e.jsxs("div",{children:[e.jsx("input",{id:"value",...i("value",{required:"A word or phrase is required"})}),e.jsx("div",{className:"form-error",children:a.value&&e.jsx("p",{children:a.value.message})})]})]}),e.jsxs("div",{className:"edit-form__row",children:[e.jsx("label",{htmlFor:"soundsLike",children:"Sounds Like"}),e.jsx("input",{id:"soundsLike",...i("soundsLike")})]}),e.jsxs("div",{className:"edit-form__row",children:[e.jsx("label",{htmlFor:"meaning",children:"Meaning"}),e.jsxs("div",{children:[e.jsx("input",{id:"meaning",...i("meaning",{required:"Meaning is required"})}),e.jsx("div",{className:"form-error",children:a.meaning&&e.jsx("p",{children:a.meaning.message})})]})]}),e.jsxs("div",{className:"edit-form__row",children:[e.jsx("label",{htmlFor:"categories",children:"Categories"}),e.jsxs("div",{children:[e.jsx("select",{id:"categories",...i("categories",{required:"At least one category is required"}),multiple:!0,children:u.map(r=>e.jsx("option",{value:r.id,children:r.description},r.id))}),e.jsx("div",{className:"form-error",children:a.categories&&e.jsx("p",{children:a.categories.message})})]})]}),e.jsxs("div",{className:"edit-form__buttons",children:[e.jsx("input",{type:"submit",value:"Save"}),e.jsx("input",{type:"button",value:"Cancel",onClick:x}),(s==null?void 0:s.id)&&e.jsx("input",{type:"button",value:"Remove",onClick:v})]})]})})});export{Q as default,D as meta};
