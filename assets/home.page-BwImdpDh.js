import{v as j,p as e,w as P}from"./chunk-ZYFC6VSF-RoJ6bjcO.js";import{l as W}from"./categories.slice-Ci-6jPVA.js";import{s as t}from"./store-BbDiUo-R.js";import{l as C,a as F,s as m}from"./words-phrases.slice-CVx70IhG.js";import{l as A}from"./word-lists.slice-CtHVvgYj.js";import{E as R}from"./export.helper-CkLmLcOG.js";import"./redux-toolkit.modern-D-2niQ31.js";function T(){const s=j(),L=()=>{s("/words")},x=w=>{var o;const n=(o=w.target.files)==null?void 0:o[0];if(n){R.lastLoadedFileName=n.name;const r=new FileReader;r.onload=b=>{var i,l,g,c,d,u,h,p,f;const N=((i=r.result)==null?void 0:i.toString())??"",a=JSON.parse(N);a!=null&&a.categories&&(a!=null&&a.language)&&(((l=a==null?void 0:a.categories)==null?void 0:l.length)>0&&t.dispatch(W(a.categories)),((c=(g=a==null?void 0:a.language)==null?void 0:g.wordsOrPhrases)==null?void 0:c.length)>0&&t.dispatch(C(a.language.wordsOrPhrases)),(d=a==null?void 0:a.language)!=null&&d.dialogues&&a.language.dialogues.length>0&&t.dispatch(A(a.language.dialogues)),(h=(u=a==null?void 0:a.language)==null?void 0:u.learn)!=null&&h.recentWordsAndPhrases&&a.language.learn.recentWordsAndPhrases.length>0&&t.dispatch(F(a.language.learn.recentWordsAndPhrases)),(f=(p=a==null?void 0:a.language)==null?void 0:p.learn)!=null&&f.whatToLearnListId?t.dispatch(m(a.language.learn.whatToLearnListId)):t.dispatch(m("")),s("/words"))},r.readAsText(n)}};return e.jsx("main",{className:"start-page",children:e.jsxs("section",{className:"centered-container",children:[e.jsx("h1",{children:"Language Learn"}),e.jsx("button",{onClick:L,type:"button",children:"New Language"}),e.jsx("label",{htmlFor:"file-upload",className:"btn",children:"Load Language From File"}),e.jsx("input",{onChange:x,className:"start-page__file-input",id:"file-upload",type:"file"})]})})}function k({}){return[{title:"Language Learn"},{name:"description",content:"Welcome to React Router!"}]}const H=P(function(){return e.jsx(T,{})});export{H as default,k as meta};
