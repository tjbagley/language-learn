import{w as P,v as W,p as e}from"./chunk-ZYFC6VSF-Bd9_QtAq.js";import{E as j}from"./export.helper-4RUdde00.js";import{s}from"./store-CdStueS6.js";import{l as C}from"./categories.slice-Ci-6jPVA.js";import{l as F,a as A,s as m}from"./words-phrases.slice-CnmOxz7F.js";import{l as R}from"./word-lists.slice-gWhQ8g7e.js";import"./redux-toolkit.modern-D-2niQ31.js";function S({}){return[{title:"Language Learn"},{name:"description",content:"Welcome to React Router!"}]}const _=P(function(){const r=W(),L=()=>{r("/words")},x=w=>{var o;const t=(o=w.target.files)==null?void 0:o[0];if(t){j.lastLoadedFileName=t.name;const n=new FileReader;n.onload=b=>{var i,l,g,c,d,u,h,p,f;const N=((i=n.result)==null?void 0:i.toString())??"",a=JSON.parse(N);a!=null&&a.categories&&(a!=null&&a.language)&&(((l=a==null?void 0:a.categories)==null?void 0:l.length)>0&&s.dispatch(C(a.categories)),((c=(g=a==null?void 0:a.language)==null?void 0:g.wordsOrPhrases)==null?void 0:c.length)>0&&s.dispatch(F(a.language.wordsOrPhrases)),(d=a==null?void 0:a.language)!=null&&d.dialogues&&a.language.dialogues.length>0&&s.dispatch(R(a.language.dialogues)),(h=(u=a==null?void 0:a.language)==null?void 0:u.learn)!=null&&h.recentWordsAndPhrases&&a.language.learn.recentWordsAndPhrases.length>0&&s.dispatch(A(a.language.learn.recentWordsAndPhrases)),(f=(p=a==null?void 0:a.language)==null?void 0:p.learn)!=null&&f.whatToLearnListId?s.dispatch(m(a.language.learn.whatToLearnListId)):s.dispatch(m("")),r("/words"))},n.readAsText(t)}};return e.jsx("main",{className:"start-page",children:e.jsxs("section",{className:"centered-container",children:[e.jsx("h1",{children:"Language Learn"}),e.jsx("button",{onClick:L,type:"button",children:"New Language"}),e.jsx("label",{htmlFor:"file-upload",className:"btn",children:"Load Language From File"}),e.jsx("input",{onChange:x,className:"start-page__file-input",id:"file-upload",type:"file"})]})})});export{_ as default,S as meta};
