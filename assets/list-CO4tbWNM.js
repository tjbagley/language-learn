import{v as N,p as s,w as A,z as C}from"./chunk-ZYFC6VSF-RoJ6bjcO.js";import{u as S,a as g}from"./index.esm-Ct74KYEx.js";import{a as k,u as c}from"./react-redux-ZL9KwmXb.js";import{a as F,b as I,u as P,c as D}from"./word-lists.slice-CtHVvgYj.js";import{s as R}from"./words-phrases.slice-CaJ-M0W4.js";import{S as $}from"./search-DeMuLky6.js";import"./redux-toolkit.modern-D-2niQ31.js";import"./word-phrase-list-view-hwgnv4FE.js";function q(a){const o=k(),i=N(),e=c(t=>F(t,a.id)),m=c(t=>R(t)),{register:n,control:l,getValues:u,handleSubmit:p,formState:{errors:d}}=S({defaultValues:{id:(e==null?void 0:e.id)||"",description:e?e.description:"",items:e!=null&&e.items?e.items:[]}}),{fields:f,append:h,remove:v}=g({control:l,name:"items"}),j=t=>{e!=null&&e.id?o(P(t)):(t.id=crypto.randomUUID(),o(D(t))),i(`/list-view/${t.id}`)};function x(){e!=null&&e.id&&confirm("Are you sure you want to remove this list?")&&(o(I(e.id)),i("/lists"))}const y=()=>{e!=null&&e.id?i(`/list-view/${e.id}`):i("/lists")};function b(t){const r=m.find(_=>_.id===t);return r?r.value:""}function w(t){console.log("Add item: "+t),h({actor:"",wordOrPhraseId:t})}return s.jsxs("form",{className:"word-list-form edit-form",onSubmit:p(j),children:[s.jsx("input",{type:"hidden",...n("id")}),s.jsxs("div",{className:"edit-form__row",children:[s.jsx("label",{htmlFor:"value",children:"Description"}),s.jsxs("div",{children:[s.jsx("input",{id:"value",...n("description",{required:"A description is required"})}),s.jsx("div",{className:"form-error",children:d.description&&s.jsx("p",{children:d.description.message})})]})]}),f.map((t,r)=>s.jsxs("div",{className:"word-list-form__item",children:[s.jsx("input",{className:"word-list-form__item-actor",placeholder:"Actor",...n(`items.${r}.actor`)}),s.jsx("div",{className:"word-list-form__item-word-or-phrase",children:b(u(`items.${r}.wordOrPhraseId`))}),s.jsx("input",{type:"button",value:"Remove",onClick:()=>v(r)})]},t.id)),s.jsx($,{addClick:w}),s.jsxs("div",{className:"edit-form__buttons",children:[s.jsx("input",{type:"submit",value:"Save"}),s.jsx("input",{type:"button",value:"Cancel",onClick:y}),(e==null?void 0:e.id)&&s.jsx("input",{type:"button",value:"Remove",onClick:x})]})]})}function J({}){return[{title:"List"},{name:"description",content:""}]}const K=A(function(){const{id:o}=C();return s.jsx("section",{className:"centered-container",children:s.jsx(q,{id:o})})});export{K as default,J as meta};
