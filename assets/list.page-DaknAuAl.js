import{v as g,p as s,w as N,z as A}from"./chunk-ZYFC6VSF-RoJ6bjcO.js";import{u as C,a as S}from"./index.esm-Ct74KYEx.js";import{a as P,u as c}from"./react-redux-ZL9KwmXb.js";import{a as k,b as F,u as I,c as D}from"./word-lists.slice-CtHVvgYj.js";import{s as R}from"./words-phrases.slice-C_Jq6HP-.js";import{S as $}from"./search-BEnJgsgq.js";import"./redux-toolkit.modern-D-2niQ31.js";import"./word-phrase-list-view-B3ZKPnNW.js";function q(n){const o=P(),i=g(),e=c(t=>k(t,n.id)),m=c(t=>R(t)),{register:a,control:l,getValues:u,handleSubmit:p,formState:{errors:d}}=C({defaultValues:{id:(e==null?void 0:e.id)||"",description:e?e.description:"",items:e!=null&&e.items?e.items:[]}}),{fields:f,append:h,remove:v}=S({control:l,name:"items"}),j=t=>{e!=null&&e.id?o(I(t)):(t.id=crypto.randomUUID(),o(D(t))),i(`/list-view/${t.id}`)};function x(){e!=null&&e.id&&confirm("Are you sure you want to remove this list?")&&(o(F(e.id)),i("/lists"))}const y=()=>{e!=null&&e.id?i(`/list-view/${e.id}`):i("/lists")};function _(t){const r=m.find(w=>w.id===t);return r?r.value:""}function b(t){console.log("Add item: "+t),h({actor:"",wordOrPhraseId:t})}return s.jsxs("form",{className:"word-list-form edit-form",onSubmit:p(j),children:[s.jsx("input",{type:"hidden",...a("id")}),s.jsxs("div",{className:"edit-form__row",children:[s.jsx("label",{htmlFor:"value",children:"Description"}),s.jsxs("div",{children:[s.jsx("input",{id:"value",...a("description",{required:"A description is required"})}),s.jsx("div",{className:"form-error",children:d.description&&s.jsx("p",{children:d.description.message})})]})]}),f.map((t,r)=>s.jsxs("div",{className:"word-list-form__item",children:[s.jsx("input",{className:"word-list-form__item-actor",placeholder:"Actor",...a(`items.${r}.actor`)}),s.jsx("div",{className:"word-list-form__item-word-or-phrase",children:_(u(`items.${r}.wordOrPhraseId`))}),s.jsx("input",{type:"button",value:"Remove",onClick:()=>v(r)})]},t.id)),s.jsx($,{addClick:b}),s.jsxs("div",{className:"edit-form__buttons",children:[s.jsx("input",{type:"submit",value:"Save"}),s.jsx("input",{type:"button",value:"Cancel",onClick:y}),(e==null?void 0:e.id)&&s.jsx("input",{type:"button",value:"Remove",onClick:x})]})]})}function J({}){return[{title:"List"},{name:"description",content:""}]}const K=N(function(){const{id:o}=A();return s.jsx("section",{className:"centered-container",children:s.jsx(q,{id:o})})});export{K as default,J as meta};
