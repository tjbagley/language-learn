import{p as t,a,R as S,w as y}from"./chunk-ZYFC6VSF-RoJ6bjcO.js";import{a as R,u as i}from"./react-redux-ZL9KwmXb.js";import{n as E,o as P,p as A,q as M,t as q}from"./words-phrases.slice-C_Jq6HP-.js";import{s as B,a as D}from"./word-lists.slice-CtHVvgYj.js";import"./redux-toolkit.modern-D-2niQ31.js";function F({size:o="small"}){return t.jsx("div",{className:`spinner spinner--${o}`,children:t.jsx("div",{className:"spinner-main",role:"status","aria-label":"Loading"})})}function K(){var j,w,v,T,_,N;const o="whatToLearnListId",c=a.useRef(null),r=R(),[d,l]=a.useState(),e=i(s=>E(s)),g=i(s=>B(s)),[u,h]=a.useState(!1),[m,W]=a.useState(localStorage.getItem(o)||""),L=i(s=>D(s,m));a.useEffect(()=>{p()},[r]);const I=(s=>s.filter(n=>!!n).sort(()=>Math.random()-.5))([e==null?void 0:e.wordToLearn,e==null?void 0:e.choice1,e==null?void 0:e.choice2]),b=s=>{var n;l(s),s.id===((n=e==null?void 0:e.wordToLearn)==null?void 0:n.id)?r(M()):r(q())},x=()=>{u||e!=null&&e.wordToLearn&&(h(!0),setTimeout(()=>{r(A(e.wordToLearn)),p(),h(!1)},100))},p=()=>{r(P(L?L.items.map(s=>s.wordOrPhraseId):[])),l(void 0),C()},C=()=>{setTimeout(()=>{var s;(s=c.current)==null||s.focus()},500)},k=s=>{const n=s.target.value;W(n),localStorage.setItem(o,n),x()},f=()=>t.jsxs("div",{className:"learn__selection",children:[t.jsx("label",{children:"Learn"}),t.jsxs("select",{defaultValue:m,onChange:s=>k(s),children:[t.jsx("option",{value:"",children:"Everything"}),g.map((s,n)=>t.jsx("option",{value:s.id,children:s.description},n))]})]});return e!=null&&e.wordToLearn?d?t.jsxs("div",{className:"learn",children:[f(),t.jsxs("div",{className:"learn__word",children:[t.jsx("h1",{tabIndex:-1,children:(j=e==null?void 0:e.wordToLearn)==null?void 0:j.value}),t.jsx("div",{className:"learn__sounds-like",children:(w=e==null?void 0:e.wordToLearn)==null?void 0:w.soundsLike})]}),d.id===((v=e==null?void 0:e.wordToLearn)==null?void 0:v.id)?t.jsx("div",{className:"learn__feedback--correct",children:"Correct!"}):t.jsxs(S.Fragment,{children:[t.jsx("div",{className:"learn__feedback--incorrect",children:"Incorrect"}),t.jsxs("div",{children:["Meaning: ",(T=e==null?void 0:e.wordToLearn)==null?void 0:T.meaning]})]}),t.jsx("button",{className:"learn__next-button",onClick:x,type:"button",children:u?t.jsx(F,{}):"Next"})]}):t.jsxs("div",{className:"learn",children:[f(),t.jsxs("div",{className:"learn__word",children:[t.jsx("h1",{ref:c,tabIndex:-1,children:(_=e==null?void 0:e.wordToLearn)==null?void 0:_.value}),t.jsx("div",{className:"learn__sounds-like",children:(N=e==null?void 0:e.wordToLearn)==null?void 0:N.soundsLike})]}),t.jsx("div",{className:"learn__choices",children:I.map((s,n)=>t.jsx("button",{onClick:()=>b(s),type:"button",children:s.meaning},n))})]}):null}function J({}){return[{title:"Learn Words and Phrases"},{name:"description",content:""}]}const Q=y(function(){return t.jsx("section",{className:"centered-container",children:t.jsx(K,{})})});export{Q as default,J as meta};
