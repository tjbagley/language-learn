import{v as p,p as e,w as x,z as j}from"./chunk-ZYFC6VSF-RoJ6bjcO.js";import{u as v}from"./index.esm-Ct74KYEx.js";import{a as f,u as a}from"./react-redux-ZL9KwmXb.js";import{c as g,d as w,r as b,u as N,e as _}from"./words-phrases.slice-CaJ-M0W4.js";import{s as k}from"./categories.slice-Ci-6jPVA.js";import{r as S}from"./word-lists.slice-CtHVvgYj.js";import"./redux-toolkit.modern-D-2niQ31.js";function y(d){const o=f(),t=p(),s=a(r=>g(r,d.id)),c=a(r=>w(r)),m=a(r=>k(r)),{register:n,handleSubmit:u,formState:{errors:i}}=v({defaultValues:{id:(s==null?void 0:s.id)||"",value:s?s.value:c||"",soundsLike:(s==null?void 0:s.soundsLike)||"",meaning:(s==null?void 0:s.meaning)||"",categories:(s==null?void 0:s.categories)||[]}}),l=r=>{s!=null&&s.id?o(N(r)):o(_(r)),t("/words")};function h(){s!=null&&s.id&&confirm("Are you sure you want to remove this word/phrase?")&&(o(S(s.id)),o(b(s.id)),t("/words"))}return e.jsxs("form",{className:"edit-form",onSubmit:u(l),children:[e.jsx("input",{type:"hidden",...n("id")}),e.jsxs("div",{className:"edit-form__row",children:[e.jsx("label",{htmlFor:"value",children:"Word or phrase"}),e.jsxs("div",{children:[e.jsx("input",{id:"value",...n("value",{required:"A word or phrase is required"})}),e.jsx("div",{className:"form-error",children:i.value&&e.jsx("p",{children:i.value.message})})]})]}),e.jsxs("div",{className:"edit-form__row",children:[e.jsx("label",{htmlFor:"soundsLike",children:"Sounds Like"}),e.jsx("input",{id:"soundsLike",...n("soundsLike")})]}),e.jsxs("div",{className:"edit-form__row",children:[e.jsx("label",{htmlFor:"meaning",children:"Meaning"}),e.jsxs("div",{children:[e.jsx("input",{id:"meaning",...n("meaning",{required:"Meaning is required"})}),e.jsx("div",{className:"form-error",children:i.meaning&&e.jsx("p",{children:i.meaning.message})})]})]}),e.jsxs("div",{className:"edit-form__row",children:[e.jsx("label",{htmlFor:"categories",children:"Categories"}),e.jsxs("div",{children:[e.jsx("select",{id:"categories",...n("categories",{required:"At least one category is required"}),multiple:!0,children:m.map(r=>e.jsx("option",{value:r.id,children:r.description},r.id))}),e.jsx("div",{className:"form-error",children:i.categories&&e.jsx("p",{children:i.categories.message})})]})]}),e.jsxs("div",{className:"edit-form__buttons",children:[e.jsx("input",{type:"submit",value:"Save"}),e.jsx("input",{type:"button",value:"Cancel",onClick:()=>t("/words")}),(s==null?void 0:s.id)&&e.jsx("input",{type:"button",value:"Remove",onClick:h})]})]})}function M({}){return[{title:"Word or Phrase"},{name:"description",content:""}]}const z=x(function(){const{id:o}=j();return e.jsx("section",{className:"centered-container",children:e.jsx(y,{id:o})})});export{z as default,M as meta};
