import{v,a as b,p as s}from"./chunk-ZYFC6VSF-RoJ6bjcO.js";import{a as w,u}from"./react-redux-ZL9KwmXb.js";import{b as _,d as N,e as m}from"./words-phrases.slice-DTb9cKLu.js";import{W as g}from"./word-phrase-list-view-WqZ6rG2t.js";function E(a){const l=w(),o=v(),c=b.useRef(null),d=u(e=>_(e)),i=u(e=>N(e)),r=!!a.addClick;let n=null;const p=r?"Search for word or phrase to add to list":"Search for word or phrase",f=e=>{n&&clearTimeout(n),n=setTimeout(()=>{l(m(e.target.value))},300)},x=()=>{o("/words/new")},j=e=>{a.addClick&&(a.addClick(e),h())},k=e=>{o(`/words/${e}`)},h=()=>{c.current&&(c.current.value=""),l(m(""))};function C(){return i.map((e,t)=>s.jsx("li",{onClick:()=>k(e.id),children:s.jsx(g,{wordOrPhrase:e})},t))}function S(){return d?i.map((e,t)=>s.jsxs("li",{children:[s.jsxs("span",{children:[e.value," ",e.soundsLike," ",e.meaning]}),s.jsx("input",{type:"button",value:"Add",onClick:()=>j(e.id)})]},t)):null}return s.jsxs("div",{className:`search ${r?"search--embedded":""}`,children:[s.jsxs("div",{className:"search__controls",children:[s.jsxs("div",{className:"search__field-wrapper",children:[s.jsx("input",{ref:c,className:"search__field",type:"text",placeholder:p,defaultValue:d,onChange:f}),d&&s.jsx("button",{className:"search__clear-btn",onClick:h,children:"Ã—"})]}),!r&&s.jsx("button",{onClick:x,children:"Add"})]}),s.jsxs("ul",{className:`${r?"list--no-row-click":""}`,children:[!r&&C(),r&&S()]})]})}export{E as S};
